# Интеграция AI для генерации характеристик

## Обзор

Система интегрирована с [Pollinations API](https://text.pollinations.ai/) для автоматической генерации профессиональных характеристик студентов и групп. Система также имеет резервный API для обеспечения надежности.

## Возможности

### 1. Умная генерация характеристик
- **Быстрая генерация**: Создание характеристик на основе минимальных данных
- **Расширенные настройки**: Детальная настройка параметров для точной генерации
- **Автоматическое заполнение**: Генерированные характеристики автоматически заполняют формы

### 2. Типы характеристик
- **Характеристики студентов**: Индивидуальные характеристики с учетом успеваемости и поведения
- **Характеристики групп**: Общие характеристики учебных групп
- **Рекомендации**: Конкретные рекомендации для развития

### 3. Интеграция с существующей системой
- Работает с существующими формами характеристик
- Поддерживает ключевые слова и категории
- Автоматическое улучшение существующих текстов

## API Интеграция

### Pollinations API
```javascript
// Прямой вызов API
const response = await fetch('https://text.pollinations.ai/' + encodeURIComponent(prompt));
const result = await response.text();
```

### AI Сервис
```javascript
// Генерация характеристики студента
const result = await aiService.generateStudentCharacteristic({
  studentName: 'Иванов Иван',
  academicPerformance: 'Отличный',
  behavior: 'Отличное',
  strengths: ['Ответственность', 'Трудолюбие'],
  weaknesses: ['Требует мотивации'],
  recommendations: ['Повысить активность']
});

// Генерация характеристики группы
const result = await aiService.generateGroupCharacteristic({
  groupName: 'Группа ИС-21',
  totalStudents: 25,
  academicLevel: 'Средний',
  groupDynamics: 'Спокойная, рабочая атмосфера',
  commonStrengths: ['Хорошая дисциплина'],
  commonChallenges: ['Требует мотивации'],
  recommendations: ['Повысить активность на занятиях']
});
```

## Промпты

### Промпт для характеристики студента
```
Создай профессиональную характеристику студента для педагогической документации.

Студент: {имя}
Успеваемость: {уровень}
Поведение: {поведение}
Сильные стороны: {список}
Слабые стороны: {список}
Рекомендации: {список}

Создай структурированную характеристику в следующем формате:
1. Общая оценка успеваемости и поведения
2. Анализ сильных сторон с примерами
3. Области для улучшения
4. Конкретные рекомендации для развития
5. Прогноз дальнейшего обучения

Используй педагогическую терминологию, будь объективным и конструктивным.
```

### Промпт для характеристики группы
```
Создай профессиональную характеристику учебной группы для педагогической документации.

Группа: {название}
Количество студентов: {число}
Общий уровень успеваемости: {уровень}
Групповая динамика: {динамика}
Общие сильные стороны: {список}
Общие проблемы: {список}
Рекомендации: {список}

Создай структурированную характеристику группы в следующем формате:
1. Общая характеристика группы
2. Анализ успеваемости и дисциплины
3. Групповая динамика и взаимодействие
4. Общие сильные стороны группы
5. Проблемные области
6. Рекомендации для улучшения работы группы

Используй педагогическую терминологию, будь объективным и конструктивным.
```

## Компоненты

### SmartCharacteristicGenerator
Основной компонент для генерации характеристик с интерфейсом:

```jsx
<SmartCharacteristicGenerator
  onCharacteristicGenerated={(characteristic) => {
    // Обработка сгенерированной характеристики
  }}
  studentName="Иванов Иван"
  groupName="Группа ИС-21"
  isGroup={true}
/>
```

### Функции AI сервиса

1. **generateStudentCharacteristic** - Генерация характеристики студента
2. **generateGroupCharacteristic** - Генерация характеристики группы
3. **enhanceStudentCharacteristic** - Улучшение существующей характеристики
4. **enhanceGroupCharacteristic** - Улучшение характеристики группы
5. **generateCharacteristicFromKeywords** - Генерация на основе ключевых слов
6. **generateStudentRecommendations** - Генерация рекомендаций

## Использование

### 1. Быстрая генерация
1. Откройте страницу характеристик группы
2. Найдите блок "Умная генерация характеристик"
3. Введите название группы
4. Нажмите "Быстрая генерация"

### 2. Расширенная генерация
1. Нажмите "Показать расширенные настройки"
2. Заполните все необходимые поля
3. Выберите сильные стороны и проблемы
4. Добавьте рекомендации
5. Нажмите "Сгенерировать характеристику"

### 3. Генерация для студентов
1. В карточке студента нажмите "Сгенерировать"
2. Система автоматически создаст характеристику на основе:
   - Имени студента
   - Баллов за дисциплину
   - Выбранных ключевых слов

## Тестирование

Для тестирования API доступна специальная страница `/dashboard/test-ai`:

- Прямое тестирование Pollinations API
- Тестирование AI сервиса
- Просмотр результатов
- Информация об API

## Надежность

Система имеет встроенную отказоустойчивость:

1. **Основной API**: Pollinations API
2. **Резервный API**: ChatGPT API (через RapidAPI)
3. **Fallback**: Возврат исходного текста с сообщением об ошибке

## Ограничения

- Pollinations API может иметь ограничения по длине ответа
- Возможны задержки при высокой нагрузке
- Нет гарантии 100% доступности API

## Будущие улучшения

1. **Кэширование**: Сохранение результатов для повторного использования
2. **Локальная модель**: Интеграция локальных AI моделей
3. **Шаблоны**: Предустановленные шаблоны характеристик
4. **Аналитика**: Статистика использования и качества генерации
5. **Многоязычность**: Поддержка других языков

## Техническая информация

### Зависимости
- `fetch` API для HTTP запросов
- `react-hook-form` для управления формами
- `lucide-react` для иконок
- `@/components/ui/*` для UI компонентов

### Структура файлов
```
src/
├── services/
│   └── aiService.ts          # AI сервис
├── components/
│   └── SmartCharacteristicGenerator.tsx  # Компонент генератора
├── pages/
│   ├── GroupCharacteristics.tsx           # Страница характеристик
│   └── TestAI.tsx                        # Тестовая страница
└── App.tsx                               # Роутинг
```

### Конфигурация
- API URL: `https://text.pollinations.ai/`
- Fallback API: `https://chatgpt-42.p.rapidapi.com/aitohuman`
- Таймаут: 30 секунд
- Максимальная длина промпта: 2000 символов 